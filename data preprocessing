import os
import glob
import numpy as np

path_ham = 'Data/enron1/ham'
path_spam = 'Data/enron1/spam'

ham_count = dict()
spam_count = dict()

for filename in glob.glob(os.path.join(path_ham, '*.txt')):
    f = open(filename, 'r')
    content = f.read().replace('\n', '')
    #print(content)
    for word in content.split():
        word = word.lower()
        if word not in ham_count:
            ham_count[word] = 1
        else:
            ham_count[word] += 1
#print(ham_count)

new_ham = ham_count.copy()
total_ham = 0
for key in new_ham:
    if new_ham[key] < 5:
        ham_count.pop(key)
    else:
        total_ham += ham_count[key]

for key in ham_count:
    ham_count[key] = -np.log(ham_count[key] / total_ham)

for filename in glob.glob(os.path.join(path_spam, '*.txt')):
    f = open(filename, 'r')
    content = f.read().replace('\n', '')
    for word in content.split():
        word = word.lower()
        if word not in spam_count:
            spam_count[word] = 1
        else:
            spam_count[word] += 1
#print(spam_count)

new_spam = spam_count.copy()
total_spam = 0
for key in new_spam:
    if new_spam[key] < 5:
        spam_count.pop(key)
    else:
        total_spam += spam_count[key]
for key in spam_count:
    spam_count[key] = -np.log(ham_count[key] / total_spam)




